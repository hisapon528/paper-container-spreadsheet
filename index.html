<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ç´™å®¹å™¨ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆãƒ„ãƒ¼ãƒ«</title>
<style>
body { font-family: Arial, sans-serif; padding: 20px; }
button { padding: 10px 20px; font-size: 18px; cursor: pointer; }
</style>
</head>
<body>

<h1>ğŸ“¦ ç´™å®¹å™¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆç”Ÿæˆãƒ„ãƒ¼ãƒ«</h1>
<p>å¼ï¼š<strong>V = a(21 - 2b)b</strong></p>
<p><strong>aï¼š</strong> 0ï½8.7<br>
<strong>bï¼š</strong> 0ï½10.5<br>
åˆ»ã¿å¹…ï¼š0.1ï¼ˆå¤‰æ›´å¯ï¼‰</p>

<label>åˆ»ã¿å¹…ï¼ˆa,bå…±é€šï¼‰: <input id="step" type="number" value="0.1" step="0.1"></label>
<br><br>
<label>ç›®æ¨™ä½“ç©: <input id="target" type="number" value="220"></label>
<label>è¨±å®¹Â±: <input id="margin" type="number" value="10"></label>
<br><br>

<button onclick="generateCSV()">ğŸ“„ CSV ã‚’ç”Ÿæˆã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>

<script>
function generateCSV() {
    const step = parseFloat(document.getElementById("step").value);
    const target = parseFloat(document.getElementById("target").value);
    const margin = parseFloat(document.getElementById("margin").value);

    let rows = [];
    rows.push(["a","b","V","ç¯„å›²å†…?","ã»ã¼220?"]);

    for (let a = step; a <= 8.7; a += step) {
        for (let b = step; b <= 10.5; b += step) {
            const V = a * (21 - 2*b) * b;
            const inRange = (V >= target - margin && V <= target + margin);
            const exact = Math.abs(V - target) < 0.001;

            rows.push([
                a.toFixed(3),
                b.toFixed(3),
                V.toFixed(3),
                inRange ? "TRUE" : "FALSE",
                exact ? "TRUE" : "FALSE"
            ]);
        }
    }

    // CSVæ–‡å­—åˆ—ç”Ÿæˆ
    const csvContent = rows.map(e => e.join(",")).join("\n");
    const blob = new Blob([csvContent], { type: "text/csv" });

    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.setAttribute("download", "container_volume_data.csv");
    document.body.appendChild(link);
    link.click();
}
</script>

</body>
</html>
